# Entropy Portfolio Lab

<!-- ===== Project Badges ===== -->
[![python-ci](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/ci-python.yml/badge.svg?branch=main)](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/ci-python.yml)
[![ci-ui](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/ci-ui.yml/badge.svg?branch=main)](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/ci-ui.yml)
[![proof](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/ci-proof.yml/badge.svg?branch=main)](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/ci-proof.yml)
[![docs-diagrams](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/docs-diagrams.yml/badge.svg?branch=main)](https://github.com/derekwins88/Entropy-Portfolio-Lab/actions/workflows/docs-diagrams.yml)

![Python 3.11](https://img.shields.io/badge/Python-3.11-3776AB?logo=python&logoColor=white)
![Node 20](https://img.shields.io/badge/Node-20-339933?logo=node.js&logoColor=white)
[![License: Polyform Noncommercial](https://img.shields.io/badge/License-Polyform%20NC-blue.svg)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](.github/CONTRIBUTING.md)
[![Last commit](https://img.shields.io/github/last-commit/derekwins88/Entropy-Portfolio-Lab.svg)](https://github.com/derekwins88/Entropy-Portfolio-Lab/commits/main)

> A unified, research-to-execution sandbox for **entropy-aware portfolio trading**.

Licensing: personal and academic use is free under **Polyform Noncommercial 1.0.0**. **Commercial or for-profit use requires a paid license** — see [`LICENSES/COMMERCIAL.md`](LICENSES/COMMERCIAL.md).

## Features
- Entropy-tilted strategies (risk parity, momentum overlays)
- Python 3.11 backtester + C#/NinjaTrader execution components
- Reproducible pipelines, diagrams, and ADRs
- MIT-compatible examples kept separate from protected IP

## Repo Map

```
/lab                # python backtester + strategy sandbox
/data               # sample or user-provided market data
/strategies         # domain specs + notebooks (legacy)
/metrics            # evaluation helpers
/ui                 # Vite-based UI + Playwright smoke tests
/csharp             # NinjaTrader components
/docs               # specs, ADRs, diagrams
.github/workflows   # CI for research, UI, docs, proofs
```

## Quickstart
1. `python -m venv .venv && source .venv/bin/activate`
2. `pip install -r requirements.txt`
3. `python -m lab.run --config configs/etrp.yml`
4. Inspect `runs/<timestamp>/` for weights, returns, and plots

## Strategy: Entropy-Tilted Risk Parity
- Universe: SPY, QQQ, IWM, EFA, EEM, TLT, IEF, LQD, GLD, SHY
- Base: inverse 63-day volatility, monthly rebalance, 30% weight cap
- Entropy tilt: Shannon entropy (63-day, 20 bins) rescaled 0–1 over 3 years
- Regime overlay: shift 50% weight into IEF/TLT/SHY when vol/entropy spike
- Risk target: 10% annualized volatility with turnover cap at 50%
- See [ADR 0001](docs/adr/0001-entropy-tilted-risk-parity.md) for details

## Results (sample)
- Metrics: CAGR, annualized stdev, Sharpe, max drawdown, turnover, hit rate
- Plots: equity curve, rolling Sharpe, entropy vs. allocation (generated by runner)

## Roadmap
- [ ] Add momentum overlay to ETRP
- [ ] Multi-regime classifier for entropy/volatility clustering
- [ ] Live paper-trading bridge

## Contributing
PRs welcome for research workflows. Commercial users must obtain a license (see below). Please follow the existing CI workflows and keep strategy docs synced with ADRs.

## License
- **Personal / academic:** Polyform Noncommercial 1.0.0 (see [`LICENSE`](LICENSE))
- **Commercial / for-profit:** Contact for a paid license (see [`LICENSES/COMMERCIAL.md`](LICENSES/COMMERCIAL.md))
- SPDX header recommendation: `SPDX-License-Identifier: Polyform-Noncommercial-1.0.0`
